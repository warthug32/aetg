/*
Copyright (c) 2003-2011, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/
CKEDITOR.plugins.add("devtools",{lang:["en"],init:function(a){a._.showDialogDefinitionTooltips=1},onLoad:function(){CKEDITOR.document.appendStyleText(CKEDITOR.config.devtools_styles||"#cke_tooltip { padding: 5px; border: 2px solid #333; background: #ffffff }#cke_tooltip h2 { font-size: 1.1em; border-bottom: 1px solid; margin: 0; padding: 1px; }#cke_tooltip ul { padding: 0pt; list-style-type: none; }")}}),function(){function a(a,b,c,d){var e=a.lang.devTools,f='<a href="http://docs.cksource.com/ckeditor_api/symbols/CKEDITOR.dialog.definition.'+(c?c.type=="text"?"textInput":c.type:"content")+'.html" target="_blank">'+(c?c.type:"content")+"</a>",g="<h2>"+e.title+"</h2>"+"<ul>"+"<li><strong>"+e.dialogName+"</strong> : "+b.getName()+"</li>"+"<li><strong>"+e.tabName+"</strong> : "+d+"</li>";return c&&(g+="<li><strong>"+e.elementId+"</strong> : "+c.id+"</li>"),g+="<li><strong>"+e.elementType+"</strong> : "+f+"</li>",g+"</ul>"}function b(a,b,d,e,f,g){var h=b.getDocumentPosition(),i={"z-index":CKEDITOR.dialog._.currentZIndex+10,top:h.y+b.getSize("height")+"px"};c.setHtml(a(d,e,f,g)),c.show();if(d.lang.dir=="rtl"){var j=CKEDITOR.document.getWindow().getViewPaneSize();i.right=j.width-h.x-b.getSize("width")+"px"}else i.left=h.x+"px";c.setStyles(i)}var c;CKEDITOR.on("reset",function(){c&&c.remove(),c=null}),CKEDITOR.on("dialogDefinition",function(d){var e=d.editor;if(e._.showDialogDefinitionTooltips){c||(c=CKEDITOR.dom.element.createFromHtml('<div id="cke_tooltip" tabindex="-1" style="position: absolute"></div>',CKEDITOR.document),c.hide(),c.on("mouseover",function(){this.show()}),c.on("mouseout",function(){this.hide()}),c.appendTo(CKEDITOR.document.getBody()));var f=d.data.definition.dialog,g=e.config.devtools_textCallback||a;f.on("load",function(){var a=f.parts.tabs.getChildren(),d;for(var h=0,i=a.count();h<i;h++)d=a.getItem(h),d.on("mouseover",function(){var a=this.$.id;b(g,this,e,f,null,a.substring(4,a.lastIndexOf("_")))}),d.on("mouseout",function(){c.hide()});f.foreach(function(a){if(a.type in{hbox:1,vbox:1})return;var d=a.getElement();d&&(d.on("mouseover",function(){b(g,this,e,f,a,f._.currentTabId)}),d.on("mouseout",function(){c.hide()}))})})}})}();