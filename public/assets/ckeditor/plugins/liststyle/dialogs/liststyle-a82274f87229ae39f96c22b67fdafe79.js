/*
Copyright (c) 2003-2011, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/
(function(){function a(a,b){var c;try{c=a.getSelection().getRanges()[0]}catch(d){return null}return c.shrink(CKEDITOR.SHRINK_TEXT),c.getCommonAncestor().getAscendant(b,1)}function d(d,e){var f=d.lang.list;if(e=="bulletedListStyle")return{title:f.bulletedTitle,minWidth:300,minHeight:50,contents:[{id:"info",accessKey:"I",elements:[{type:"select",label:f.type,id:"type",align:"center",style:"width:150px",items:[[f.notset,""],[f.circle,"circle"],[f.disc,"disc"],[f.square,"square"]],setup:function(a){var b=a.getStyle("list-style-type")||c[a.getAttribute("type")]||a.getAttribute("type")||"";this.setValue(b)},commit:function(a){var b=this.getValue();b?a.setStyle("list-style-type",b):a.removeStyle("list-style-type")}}]}],onShow:function(){var b=this.getParentEditor(),c=a(b,"ul");c&&this.setupContent(c)},onOk:function(){var b=this.getParentEditor(),c=a(b,"ul");c&&this.commitContent(c)}};if(e=="numberedListStyle"){var g=[[f.notset,""],[f.lowerRoman,"lower-roman"],[f.upperRoman,"upper-roman"],[f.lowerAlpha,"lower-alpha"],[f.upperAlpha,"upper-alpha"],[f.decimal,"decimal"]];return(!CKEDITOR.env.ie||CKEDITOR.env.version>7)&&g.concat([[f.armenian,"armenian"],[f.decimalLeadingZero,"decimal-leading-zero"],[f.georgian,"georgian"],[f.lowerGreek,"lower-greek"]]),{title:f.numberedTitle,minWidth:300,minHeight:50,contents:[{id:"info",accessKey:"I",elements:[{type:"hbox",widths:["25%","75%"],children:[{label:f.start,type:"text",id:"start",validate:CKEDITOR.dialog.validate.integer(f.validateStartNumber),setup:function(a){var c=a.getFirst(b).getAttribute("value")||a.getAttribute("start")||1;c&&this.setValue(c)},commit:function(a){var c=a.getFirst(b),d=c.getAttribute("value")||a.getAttribute("start")||1;a.getFirst(b).removeAttribute("value");var e=parseInt(this.getValue(),10);isNaN(e)?a.removeAttribute("start"):a.setAttribute("start",e);var f=c,g=d,h=isNaN(e)?1:e;while((f=f.getNext(b))&&g++)f.getAttribute("value")==g&&f.setAttribute("value",h+g-d)}},{type:"select",label:f.type,id:"type",style:"width: 100%;",items:g,setup:function(a){var b=a.getStyle("list-style-type")||c[a.getAttribute("type")]||a.getAttribute("type")||"";this.setValue(b)},commit:function(a){var b=this.getValue();b?a.setStyle("list-style-type",b):a.removeStyle("list-style-type")}}]}]}],onShow:function(){var b=this.getParentEditor(),c=a(b,"ol");c&&this.setupContent(c)},onOk:function(){var b=this.getParentEditor(),c=a(b,"ol");c&&this.commitContent(c)}}}}var b=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.is("li")},c={a:"lower-alpha",A:"upper-alpha",i:"lower-roman",I:"upper-roman",1:"decimal",disc:"disc",circle:"circle",square:"square"};CKEDITOR.dialog.add("numberedListStyle",function(a){return d(a,"numberedListStyle")}),CKEDITOR.dialog.add("bulletedListStyle",function(a){return d(a,"bulletedListStyle")})})();